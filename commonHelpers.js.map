{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// key_pixabay 43258927-612e11e8a955b04f9334ad244\n\n  export  async function fetchData(url, options = {}) {\n    const response = await fetch(url, options);\n    if(!response.ok) {\n        throw new Error(response.statusText);\n    }\n    return await response.json();\n}\n","export function createMarkup(arr) {\n    return arr.map(({id, largeImageURL, webformatURL, tags, likes, views, comments, downloads }\n) => `\n        <li class=\"list-card\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"short-card\" >\n            <ul class=\"list-item\" >\n            <li class=\"card-foot\">\n            <div class=\"item\" >\n            <p class=\"item-div\">Likes</p>\n            <p class=\"item-div\">${likes}</p>\n            </div> \n            </li>\n            <li class=\"card-foot\">\n            <div class=\"item\" >\n            <p class=\"item-div\">Views</p>\n            <p class=\"item-div\">${views}</p>\n            </div> \n            </li>\n            <li class=\"card-foot\">\n            <div class=\"item\" >\n            <p class=\"item-div\">Comments</p>\n            <p class=\"item-div\">${comments}</p>\n            </div> \n            </li>\n  \n            <li class=\"card-foot\">\n            <div class=\"item\" >\n            <p class=\"item-div\">Downloads</p>\n            <p class=\"item-div\">${downloads}</p>\n            </div> \n            </li>\n            \n            </ul>\n            </a>\n        </li>\n    `).join(\"\")\n}","import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from \"./js/pixabay-api\";\n\nimport { createMarkup } from \"./js/render-functions\";\n\nconst PIXABAY_URL = \"https://pixabay.com/api/\"\n\nconst form = document.querySelector(\".ask-form\");\nconst container = document.querySelector(\".container\");\nconst load = document.querySelector(\".loader\");\n load.style.display = \"none\";\n\n// const container = document.querySelector(\".list\");\n\nform.addEventListener(\"submit\", handleSubmit);\n//\n\n// async function fetchData(url, options = {}) {\n//     const response = await fetch(url, options);\n//     if(!response.ok) {\n//         throw new Error(response.statusText);\n//     }\n//     return await response.json();\n// }\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n container.innerHTML = \"\";\n    let ligthBox;\n\n    load.style.display = \"flex\";\n   \n    const searchOption = event.target.elements.askChoice;\n    const serh = searchOption.value;\n    // console.log(searchOption);\n    // console.log(serh);\n    const API_KEY = \"43258927-612e11e8a955b04f9334ad244\"\n    const pixOption = new URLSearchParams({\n        key: \"43258927-612e11e8a955b04f9334ad244\",\n        q: serh,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n    \n   \n    fetchData(`${PIXABAY_URL}?${pixOption}`)\n        .then(data => {\n            load.style.display = \"none\";\n            if (!data.total) {\n                iziToast.show({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    backgroundColor: 'yellow',\n                    color: 'white',\n                    position: 'topRight',\n                    close: true,\n                    timeout: 5000\n                })\n            }\n            container.insertAdjacentHTML(\"beforeend\", createMarkup(data.hits))\n\n            ligthBox = new SimpleLightbox('.container a', {\n                captionsData: \"alt\", captionPosition: \"bottom\",\n                captionDelay: 250\n            });\n\n            ligthBox.refresh();\n        })\n\n        \n        .catch(error => alert(error))\n        .finally(() => {\n             load.style.display = \"none\";\n            form.reset();\n        })\n}\n\n// function createMarkup(arr) {\n//     return arr.map(({id, largeImageURL, webformatURL, tags, likes, views, comments, downloads }\n// ) => `\n//         <li class=\"list-card\">\n//         <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//             <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"short-card\" >\n//             <ul class=\"list-item\" >\n//             <li class=\"card-foot\">\n//             <div class=\"item\" >\n//             <p class=\"item-div\">Likes</p>\n//             <p class=\"item-div\">${likes}</p>\n//             </div> \n//             </li>\n//             <li class=\"card-foot\">\n//             <div class=\"item\" >\n//             <p class=\"item-div\">Views</p>\n//             <p class=\"item-div\">${views}</p>\n//             </div> \n//             </li>\n//             <li class=\"card-foot\">\n//             <div class=\"item\" >\n//             <p class=\"item-div\">Comments</p>\n//             <p class=\"item-div\">${comments}</p>\n//             </div> \n//             </li>\n  \n//             <li class=\"card-foot\">\n//             <div class=\"item\" >\n//             <p class=\"item-div\">Downloads</p>\n//             <p class=\"item-div\">${downloads}</p>\n//             </div> \n//             </li>\n            \n//             </ul>\n//             </a>\n//         </li>\n//     `).join(\"\")\n// }"],"names":["fetchData","url","options","response","createMarkup","arr","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","PIXABAY_URL","form","container","load","handleSubmit","event","ligthBox","serh","pixOption","data","iziToast","SimpleLightbox","error"],"mappings":"6vBAEU,eAAeA,EAAUC,EAAKC,EAAU,GAAI,CAClD,MAAMC,EAAW,MAAM,MAAMF,EAAKC,CAAO,EACzC,GAAG,CAACC,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAO,MAAMA,EAAS,MAC1B,CCRO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAC,GAAAC,EAAI,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC1F;AAAA;AAAA,wCAEmCN,CAAa;AAAA,wBAC7BC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKhBC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAMLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAMLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAORC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOtC,EAAE,KAAK,EAAE,CACd,CCzBA,MAAMC,EAAc,2BAEdC,EAAO,SAAS,cAAc,WAAW,EACzCC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAO,SAAS,cAAc,SAAS,EAC5CA,EAAK,MAAM,QAAU,OAItBF,EAAK,iBAAiB,SAAUG,CAAY,EAW5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACvBH,EAAU,UAAY,GACnB,IAAII,EAEJH,EAAK,MAAM,QAAU,OAGrB,MAAMI,EADeF,EAAM,OAAO,SAAS,UACjB,MAIpBG,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAGDrB,EAAU,GAAGc,CAAW,IAAIQ,CAAS,EAAE,EAClC,KAAKC,GAAQ,CACVN,EAAK,MAAM,QAAU,OAChBM,EAAK,OACNC,EAAS,KAAK,CACV,QAAS,2EACT,gBAAiB,SACjB,MAAO,QACP,SAAU,WACV,MAAO,GACP,QAAS,GAC7B,CAAiB,EAELR,EAAU,mBAAmB,YAAaZ,EAAamB,EAAK,IAAI,CAAC,EAEjEH,EAAW,IAAIK,EAAe,eAAgB,CAC1C,aAAc,MAAO,gBAAiB,SACtC,aAAc,GAC9B,CAAa,EAEDL,EAAS,QAAO,CAC5B,CAAS,EAGA,MAAMM,GAAS,MAAMA,CAAK,CAAC,EAC3B,QAAQ,IAAM,CACVT,EAAK,MAAM,QAAU,OACtBF,EAAK,MAAK,CACtB,CAAS,CACT"}